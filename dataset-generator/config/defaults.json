{
  "dataset_generation": {
    "prompts_path": "data/domain_prompts.jsonl",
    "examples_per_schema": 60,
    "per_schema_queries": 60,
    "min_operators": 4,
    "max_operators": 7,
    "seed": 11,
    "include_invalid": true,
    "schema_specs_out": "outputs/d_01_domain_specs.jsonl",
    "final_schemas_out": "outputs/d_02_final_schemas.jsonl",
    "schema_queries_out": "outputs/d_03_schema_queries.jsonl",
    "dataset_out": "outputs/d_04_dataset.jsonl",
    "training_corpus_out": "outputs/d_05_training_corpus.jsonl",
    "positives_per_schema": 250,
    "negative_ratio": 0.6
  },
  "training": {
    "training_corpus": "outputs/d_05_training_corpus.jsonl",
    "output_dir": "outputs/student_runs/gemma3-270m",
    "base_model": "unsloth/gemma-3-270m-it",
    "max_seq_length": 32768,
    "batch_size": 4,
    "grad_accum": 4,
    "learning_rate": 5e-5,
    "weight_decay": 0.01,
    "warmup_steps": 50,
    "num_epochs": 20.0,
    "max_steps": 3000,
    "logging_steps": 10,
    "eval_steps": 50,
    "save_steps": 200,
    "save_total_limit": 3,
    "val_split": 0.05,
    "eval_max_samples": 256,
    "eval_accumulation_steps": 2,
    "early_stop_min_delta": 0.002,
    "early_stop_patience": 2,
    "max_grad_norm": 1.0,
    "max_samples": null,
    "seed": 3407,
    "load_in_4bit": true,
    "bf16": true,
    "use_gradient_checkpointing": false,
    "lora_r": 64,
    "lora_alpha": 128,
    "lora_dropout": 0.05
  },
  "alignment": {
    "pairs_out": "outputs/student_runs/alignment/dpo_pairs.jsonl",
    "eval_results": "outputs/student_runs/eval/evaluation_results.jsonl",
    "base_model": "unsloth/gemma-3-270m-it",
    "adapter": "outputs/student_runs/gemma3-270m/checkpoint-final",
    "output_dir": "outputs/student_runs/gemma3-270m-dpo",
    "max_seq_length": 32768,
    "batch_size": 2,
    "grad_accum": 8,
    "learning_rate": 5e-06,
    "warmup_steps": 50,
    "max_steps": 500,
    "logging_steps": 10,
    "beta": 0.1,
    "load_in_4bit": true,
    "bf16": true
  }
}
